<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/myPage/myPage.css">

  <th:block th:replace="~{common/common}"></th:block>

  <title>MY PAGE</title>
</head>
<body>

  <main>
    <th:block th:replace="~{common/header}"></th:block>

    <section class="myPage-content">
      <th:block th:replace="~{myPage/side}"></th:block>

      <section class="myPage-main">
        <h1 class="myPage-title">내 정보 수정</h1>

        <form action="profile" method="POST" id="updateProfile" enctype="multipart/form-data">
            
          <section class="main-section">
              <section class="info-section">
                <div class="myPage-row">
                  <label>닉네임</label>
      
                  <input type="text" name="memberNickname" 
                    maxlength="10" id="memberNickname" 
                    th:value="${session.loginMember.memberNickname}">
                </div>
      
                <div class="myPage-row">
                  <label>전화번호</label>
                  <input type="text" name="memberTel" 
                    maxlength="11" id="memberTel"
                    th:value="${session.loginMember.memberTel}">
                </div>
      
                <div class="myPage-row info-title">
                  <span>주소</span>
                </div>
      
                <div class="myPage-row info-address">
                  <input type="text" name="memberAddress"
                    placeholder="" id="address" th:value="${session.loginMember.memberAddress}">
                </div>
      
              </section>

              <section class="profile-section">
                <div class="profile-image-area">
                  <img th:with="user=#{user.default.image}" th:src="${session.loginMember.profileImg ?: user }" id="profileImage"> 
                </div>
                <span id="deleteImage">x</span>
        
                <div class="profile-btn-area">
                  <label for="imageInput">이미지 선택</label>
        
                  <input type="file" name="uploadImg" id="imageInput" accept="image/*">
                </div>

              </section>
          </section>
  
          <button class="myPage-submit">수정하기</button>
        </form>

      </section>
    </section>
  </main>

  <th:block th:replace="~{common/footer}"></th:block>

<script th:inline="javascript">
    const loginMemberProfileImage = /*[[${session.loginMember.profileImg}]]*/ "회원 프로필 이미지";
  </script>

  <script src="/js/myPage/myPage.js"></script>
  <script src="/js/main.js"></script>

</body>
</html>